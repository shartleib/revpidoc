<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tensorflow lite with Revolution Pi :: PoC Revolution Pi Dokumentation</title>
    <link rel="prev" href="../examples.html">
    <link rel="next" href="../../faq/faq.html">
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://shartleib.github.io/revpidoc">PoC Revolution Pi Dokumentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="revpidoc" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">PoC Revolution Pi Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">Revolution Pi</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../revpi_quickstart.html">Quickstart</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../revpi_hardware/revpi_general.html">RevPi installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_general.html">RevPi installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_connect_3.html">Revolution Pi Connect 3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_connect_4.html">Revolution Pi Connect 4</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_connect_flat.html">Revolution Pi Connect Flat</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_connect_compact.html">Revolution Pi Compact</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../revpi_software.html">Revolution Pi Software</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_software/revpi_pictory.html">PiCtory - Configurate your RevPi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_software/revpi_webstatus.html">Web Status - Set basic setting on your RevPi</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../revpi_hardware/revpi_expention_moduls.html">Expention Moduls</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_dio.html">RevPI Digital IO modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_aio.html">RevPI Analog IO module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_mio.html">RevPi Analog &amp; Digital mixed IO module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_con_can.html">RevPi Con CAN</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_con_mbus.html">RevPi Con M-Bus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_con_mbus_vhp.html">RevPi Con M-Bus VHP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_gateway_profinet.html">RevPi Gateway PROFINET IRT Slave</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_gateway_profibus.html">RevPi Gateway PROFIBUS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_gateway_ethercat.html">RevPi Gateway EtherCAT</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../revpi_hardware/revpi_gateway_ethernetip.html">RevPi Gateway EtherNet/IP</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../examples.html">Examples</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="tensorflowlite.html">Tensorflow lite with Revolution Pi</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../faq/faq.html">FAQ</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../legacy_hardware/legacy_hardware.html">Legacy Harware</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">PoC Revolution Pi Documentation</span>
    <span class="version">1-beta.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">PoC Revolution Pi Documentation</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">1-beta.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">PoC Revolution Pi Documentation</a></li>
    <li><a href="tensorflowlite.html">Tensorflow lite with Revolution Pi</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/shartleib/revpidoc/edit/main/docs/modules/ROOT/pages/examples/python/tensorflowlite.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Tensorflow lite with Revolution Pi</h1>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You need a usb camera and a Revolution Pi Core 3, connect 3+, connect 4, a monitor/keyboard/mouse</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preparation"><a class="anchor" href="#preparation"></a>Preparation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Connect a USB camera to your RevPi.
Connect to your RevPi via SSH or open a terminal local on the RevPi.
Update your OS with the following step, copy the commands to the terminal and press <b class="button">ENTER</b>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt update</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt upgrade</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next: install the python environment to protect your python installation on your system. Copy the  following commands to your terminal and press <b class="button">ENTER</b>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt install python3-venv</code></pre>
</div>
</div>
<div class="paragraph">
<p>install virtuelenv in Python to protect your python installation on your system. Copy the  following commands to your terminal and press <b class="button">ENTER</b>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo -H python3 -m pip install virtualenv</code></pre>
</div>
</div>
<div class="paragraph">
<p>Test your USB camera connection before you start. Copy the  following commands to your terminal and press <b class="button">ENTER</b>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">lusb</code></pre>
</div>
</div>
<div class="paragraph">
<p>Result -&#8594;</p>
</div>
<div class="paragraph">
<p>Create a folder for the example  and go to it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir project</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd project</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a python environment&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3 -m virtualenv env</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#8230;&#8203;and activate it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">source env/bin/activate</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install tensorflow lite for Python</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3 -m pip install tflite-runtime</code></pre>
</div>
</div>
<div class="paragraph">
<p>Test the correct installation of tensorflow lite</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Python hljs" data-lang="Python">import tflite_runtime
tflite_runtime.__version__
# Both of the commands above should execute without errors
quit()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Install (clone) the tensorflow lite examples and install</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/tensorflow/examples --depth 1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo apt-get install libatlas-base-dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>Navigate to raspberry pi example folder and setup up the project, then start Python3 classify.py (donâ€™t forget to activate your python environment: source env/bin/activate)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd examples/lite/examples/image_classification/raspberry_pi</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sh setup.sh</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">python3 classify.py</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="result"><a class="anchor" href="#result"></a>Result</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should now see a camera image and display what has dedected.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../examples.html">Examples</a></span>
  <span class="next"><a href="../../faq/faq.html">FAQ</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
